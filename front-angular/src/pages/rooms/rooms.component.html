<div class="box" *ngIf="!isLoading">
    <div class="users-list">
        <h1>All Rooms - List</h1>
        <p-table [value]="rooms" [scrollable]="true" scrollHeight="400px" [resizableColumns]="true" styleClass="p-datatable-gridlines" [tableStyle]="{'min-width': '50rem'}">
            <ng-template #header>
                <tr>
                    <th pResizableColumn>Name</th>
                    <th pResizableColumn>Description</th>
                    <th pResizableColumn>User name</th>
                    <th pResizableColumn>Captors numbers</th>
                    <th pResizableColumn>Actions</th>
                </tr>
            </ng-template>
            <ng-template #body let-room>
                <tr>
                    <td>{{ room.nom }}</td>
                    <td>{{ room.description }}</td>
                    <td>{{ room.utilisateur?.nom }}</td>
                    <td>{{ room.capteur.length }}</td>
                    <td>
                        <p-button icon="pi pi-pencil" [rounded]="true" severity="success" [outlined]="true" (click)="editRoom(room.id)" />
                    </td>
                    
                </tr>
            </ng-template>
        </p-table>

        <div class="card flex justify-center">
            <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows" [totalRecords]="1" [rowsPerPageOptions]="[10, 20, 30]" />
        </div>
    </div>
</div>

<div *ngIf="isLoading" class="spinner-container">
    <div class="spinner"></div>
    <p>Chargement en cours...</p>
</div>
